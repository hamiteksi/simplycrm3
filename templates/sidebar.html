<!-- Sidebar Container -->
<div class="sidebar-container">
    <!-- Sidebar Toggle Button
    <button class="btn sidebar-toggle" type="button">
        <span class="toggle-icon">&lt;</span>
    </button>
    -->
    {% load static %}

    {% load static %}

    <!-- Sidebar -->
    <div class="sidebar">
        <!-- User Profile -->
        <div class="d-flex align-items-center mb-4 px-3">
            <i class="fas fa-user-circle fs-1 me-3 text-primary"></i>
            <div>
                <h6 class="mb-0">{{ request.user.get_full_name }}</h6>
                <small class="text-muted">{{ request.user.email }}</small>
            </div>
        </div>

        <!-- Search -->
        <div class="px-3 mb-4">
            <div class="input-group">
                <span class="input-group-text bg-white border-end-0">
                    <i class="fas fa-search text-muted"></i>
                </span>
                <input type="text" class="form-control border-start-0" placeholder="Search...">
            </div>
        </div>

        <!-- Main Navigation -->
        <nav class="nav flex-column">
            <a href="{% url 'musteri:dashboard' %}" class="sidebar-link {% if request.path == '/' %}active{% endif %}">
                <i class="fas fa-home"></i>
                Dashboard
            </a>
            <a href="{% url 'musteri:customer_list' %}" class="sidebar-link {% if 'customer' in request.path %}active{% endif %}">
                <i class="fas fa-users"></i>
                Müşteriler
            </a>
            <a href="{% url 'musteri:calendar' %}" class="sidebar-link {% if 'calendar' in request.path %}active{% endif %}">
                <i class="fas fa-calendar"></i>
                Takvim
            </a>
            <a href="{% url 'musteri:yapilacak' %}" class="sidebar-link {% if 'tasks' in request.path %}active{% endif %}">
                <i class="fas fa-tasks"></i>
                Yapılacaklar
            </a>
            <a href="{% url 'musteri:expense' %}" class="sidebar-link {% if 'expenses' in request.path %}active{% endif %}">
                <i class="fas fa-money-bill"></i>
                Giderler
            </a>
            <a href="{% url 'musteri:reports' %}" class="sidebar-link {% if 'reports' in request.path %}active{% endif %}">
                <i class="fas fa-chart-bar"></i>
                Raporlar
            </a>
        </nav>

        <!-- Quick Actions -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Hızlı İşlemler</div>
            <nav class="nav flex-column">
                <a href="{% url 'musteri:customer_create' %}" class="sidebar-link">
                    <i class="fas fa-user-plus"></i>
                    Yeni Müşteri
                </a>
                <a href="{% url 'musteri:add_yapilacak' %}" class="sidebar-link">
                    <i class="fas fa-plus"></i>
                    Yeni Görev
                </a>
                <a href="#" class="sidebar-link" data-bs-toggle="modal" data-bs-target="#addEventModal">
                    <i class="fas fa-calendar-plus"></i>
                    Yeni Etkinlik
                </a>
            </nav>
        </div>

        <!-- Monitoring -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Takip</div>
            <nav class="nav flex-column">
                <a href="{% url 'musteri:customer_expiry_list' %}" class="sidebar-link">
                    <i class="fas fa-clock"></i>
                    Süresi Dolan Belgeler
                </a>
                <a href="{% url 'musteri:customer_status_list' %}" class="sidebar-link">
                    <i class="fas fa-list"></i>
                    Durum Listesi
                </a>
            </nav>
        </div>

        <!-- Settings -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Ayarlar</div>
            <nav class="nav flex-column">
                <a href="{% url 'musteri:profile' %}" class="sidebar-link">
                    <i class="fas fa-user-cog"></i>
                    Profil
                </a>
                <a href="{% url 'musteri:settings' %}" class="sidebar-link">
                    <i class="fas fa-cog"></i>
                    Sistem Ayarları
                </a>
                <a href="{% url 'logout' %}" class="sidebar-link text-danger">
                    <i class="fas fa-sign-out-alt"></i>
                    Çıkış Yap
                </a>
            </nav>
        </div>
    </div>

    <!-- Mobile Toggle Button -->
    <button class="btn btn-primary position-fixed d-md-none" 
            style="bottom: 1rem; right: 1rem; z-index: 1050;"
            onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <script>
    function toggleSidebar() {
        document.querySelector('.sidebar').classList.toggle('show');
    }

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', function(event) {
        const sidebar = document.querySelector('.sidebar');
        const toggleBtn = document.querySelector('.btn-primary.position-fixed');
        
        if (window.innerWidth <= 768) {
            if (!sidebar.contains(event.target) && !toggleBtn.contains(event.target)) {
                sidebar.classList.remove('show');
            }
        }
    });
    </script>

    <!-- Main Content -->
</div>